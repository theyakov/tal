<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Matrix Painter</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Fonts with broad Unicode coverage (+ Egyptian Hieroglyphs) -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Noto+Sans+Symbols+2&family=Noto+Sans+Egyptian+Hieroglyphs&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <h1>Matrix Painter</h1>

  <div class="controls">
    <label>Rows <input type="number" id="rows" value="8"></label>
    <label>Columns <input type="number" id="cols" value="8"></label>
    <label>Cell size (px) <input type="number" id="cellSize" value="64"></label>
    <label>Font size (px) <input type="number" id="fontSize" value="64"></label>
    <label>Font family
      <select id="fontFamily">
        <option>Arial</option>
        <option>Times New Roman</option>
        <option>Courier New</option>
        <option>Noto Sans</option>
        <option>Noto Sans Egyptian Hieroglyphs</option>
      </select>
    </label>
    <label>Symbol (any Unicode) <input type="text" id="symbol" value="â˜…"></label>

    <label>Mode
      <select id="mode">
        <option value="char" selected>Place symbol</option>
        <option value="img">Place image</option>
        <option value="erase">Erase</option>
      </select>
    </label>

    <div id="imgRow" style="display:none;">
      <label>Upload image <input type="file" id="imgInput" accept="image/*"></label>
    </div>

    <button id="clearBtn">Clear</button>
    <button id="pngBtn">Save PNG</button>
    <button id="pdfBtn">Save PDF</button>
  </div>

  <!-- WhatsApp-like symbol picker -->
  <div class="pickerWrap">
    <div class="pickerHeader">
      <div class="pickerCatHeader">
        <div id="catTitle" class="catTitle">Smileys</div>
        <div id="catSubtitle" class="catSubtitle"></div>
      </div>
      <div class="pickerTabs">
        <button class="tabBtn active" id="tabEmoji" type="button">ğŸ˜€ Emoji</button>
        <button class="tabBtn" id="tabHiero" type="button">ğ“€€ Hieroglyphs</button>
      </div>
      <input class="pickerSearch" id="pickerSearch" type="text" placeholder="Search disabled in offline picker" disabled>
    </div>

    <div class="pickerBody">
      <div class="pickerCats" id="pickerCats"></div>
      <div class="pickerGrid" id="pickerGrid"></div>
    </div>

    <div class="pickerHint">
      Click a symbol to select it (it fills â€œSymbolâ€ and switches to â€œPlace symbolâ€).
    </div>
  </div>

  <canvas id="gridCanvas" width="512" height="512"></canvas>

  <p id="status" class="status">Click cells to place content.</p>

  <!-- jsPDF for PDF export -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
